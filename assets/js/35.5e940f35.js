(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{434:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("font",{attrs:{color:"DarkSeaGreen",face:"微软雅黑"}},[s("h2",{attrs:{id:"q-this显示绑定中-call-apply-bind实现原理是什么。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#q-this显示绑定中-call-apply-bind实现原理是什么。"}},[t._v("#")]),t._v(" Q:This显示绑定中，call，apply，bind实现原理是什么。")])]),t._v(" "),s("font",{attrs:{color:"DarkSeaGreen",face:"微软雅黑"}},[s("h2",{attrs:{id:"一、必备知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、必备知识"}},[t._v("#")]),t._v(" 一、必备知识")])]),t._v(" "),s("blockquote",[s("p",[t._v("一、原理：因为js语言选择隐藏形参和实参，用this进行代替。所以谁调用，this就是谁。")]),t._v(" "),s("p",[t._v("obj.fun()。this就是obj。  obj.fun1.fun()。this就是obj.fun1")])]),t._v(" "),s("blockquote",[s("p",[t._v("二、传参问题： 传入的参数有3种。 (我习惯用第二种)")]),t._v(" "),s("p",[t._v("1、有不传参数的。fun(){}。 obj = argument[0] 。 ...运算符")]),t._v(" "),s("p",[t._v("2、有传一个参数。fun(userobj){}。 obj = userobj 。  ...运算符。")]),t._v(" "),s("p",[t._v("3、有传两个参数。fun(userobj,...arg){}。 obj= userobj 。  ...运算符。")])]),t._v(" "),s("blockquote",[s("p",[t._v("三、类数组： arguments===类数组。 类数组===对象有length属性。")]),t._v(" "),s("p",[t._v("提取方式：想要将参数提取出来。也就是类数组转为数组。(我一般用第4个)")]),t._v(" "),s("p",[t._v("1、 for循环新建数组法。")]),t._v(" "),s("p",[t._v("2、Array的slice返回切割的数组。 slice需要调用call所有把他排除。")]),t._v(" "),s("p",[t._v("3、es6的 array.from。")]),t._v(" "),s("p",[t._v("4、es6的...运算符。+slice()。（Slice返回一个数组）")])]),t._v(" "),s("blockquote",[s("p",[t._v("四、两种调用方式，对应的arguments不同")]),t._v(" "),s("p",[t._v("obj.fun(args)。arguments是不包含obj默认参数的。")]),t._v(" "),s("p",[t._v("obj1.fun.apply(obj2,args)  arguments是包含obj2参数的。")])]),t._v(" "),s("font",{attrs:{color:"DarkSeaGreen",face:"微软雅黑"}},[s("h2",{attrs:{id:"二、实现call-call-obj"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、实现call-call-obj"}},[t._v("#")]),t._v(" 二、实现call:call(obj,[])")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1、call是在function prototype上面的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2、call传入的参数  而context则是传入的对象。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3、 如果正常userobj是传入的对象。null的情况则是window。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4 、 实现原理： js隐藏的传入的参数。因此只需要把函数挂载在 对象的方法上就行了。因此新建一个方法。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//5 、把传入的参数，切割一下。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6、 userobj.fn(),就会吧userobj传入。 传入参数调用， this的值会自动覆盖。 js隐藏的传入的参数。因此只需要把函数挂载在 对象的方法上就行了")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 7、 在删除就好fn")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 8、返回结果")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mycall")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("userobj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fn  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//声明唯一，防止被覆盖。")]),t._v("\n        userobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window\n        userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//函数传入参数obj1，赋值")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("font",{attrs:{color:"DarkSeaGreen",face:"微软雅黑"}},[s("h1",{attrs:{id:"三、实现apply-apply-obj"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、实现apply-apply-obj"}},[t._v("#")]),t._v(" 三、实现apply:apply(obj,[])")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// aruguments[1] = [1,2,3]。 ...aruguments[1]。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  如果存在数组则，第二个数组展开。 否则就不需要展开。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myapply")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("userobj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fn  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//声明唯一，防止被覆盖。")]),t._v("\n        userobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window\n        userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("font",{attrs:{color:"DarkSeaGreen",face:"微软雅黑"}},[s("h1",{attrs:{id:"四、实现bind-bind-bind-arg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、实现bind-bind-bind-arg"}},[t._v("#")]),t._v(" 四、实现bind:bind(bind,arg)()")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mybind")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("userobj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" self "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);